<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>텍스트와 html 파일 읽기</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
	$(function(){
		var table = new Array; var tzum="";
		$.get('./test.txt', function(read){
			console.log('read : ' + read);
			read.onload = function (e) {
				table.push('<script type="text/javascript">var data=[');
				var rows = e.target.result.split('\n');
				for (var i = 0; i < rows.length; i++) {
					table.push('[');
					var cells = rows[i].split(',');
					if (cells.length > 1) {
						for (var j = 0; j < cells.length; j++) {

							table.push('"');
							table.push(cells[j].trim());
							if (j == cells.length-1){ 
								table.push('"');
							}else{
								table.push('",');
							}
						}
						if (i == rows.length-1){ 
							table.push(']');
						}else{
							table.push('],');
						}
					}
				}
				table.push(']');
				
//				console.log('rows2 : ' + rows[2]);


				for (k=0; k<table.length; k++) { tzum = tzum + table[k];}

				$("#dvCSV").empty();
				$("#dvCSV").append(tzum);
				console.log(table[0]);				
			}
		});		
	});

</script>
 </head>
 <body>
<div id="dvCSV"></div>
 </body>
</html>
